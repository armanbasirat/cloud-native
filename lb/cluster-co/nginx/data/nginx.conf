
user  nginx;
worker_processes  auto;

pid        /var/run/nginx.pid;

worker_rlimit_nofile 100000;
events {

    worker_connections  65536;
}
error_log  /var/log/nginx/error.log crit;
error_log  /var/log/nginx/error.log emerg;
error_log  /var/log/nginx/error.log error;
error_log  /var/log/nginx/error.log alert;
error_log  /var/log/nginx/debug.log debug;
error_log  /var/log/nginx/warn.log warn;



http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    log_format  main  '[$remote_addr] - [$remote_user] [$time_local] ["$request"] '
                      '[$body_bytes_sent] ["$http_referer"] '
                      '["$http_user_agent"] ["$http_x_forwarded_for"] ["$upstream_addr"] [$status] ["$upstream_response_time"] ["$request_time"] ["$request_length"]';

#    access_log  /var/log/nginx/access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    keepalive_timeout  65;
    client_max_body_size 300M;
    client_body_buffer_size 1M;
    #gzip  on;

    include /etc/nginx/conf.d/*.conf;

    server {
       listen 8080;

       location /nginx_status {
       stub_status on;
       allow all;
      }

    }


}